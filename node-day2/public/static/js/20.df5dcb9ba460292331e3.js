webpackJsonp([20],{EW8w:function(e,t){},HCXj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("rrxO"),a=i("S6Tm");var l={name:"releaseManagement",data:function(){return{isFinishFirst:!1,name:"",phone:"",address:"",remark:"",dueTime:"",serviceIndex:null,serviceId:"",serviceName:"",serviceList:[],dueDate:"",babyNumListId:"",babyNumList:[],babyraisingBabyNumList:[],babyraisingBabyNumListId:"",babyAgeList:[],babyAgeListId:"",ageList:[],ageListId:"",expList:[],expListId:"",hulistatusList:[],hulistatusListId:"",serviceModeList:[],serviceModeListId:"",serviceSalaryListAll:[],serviceSalaryList:[],serviceSalaryListId:"",serviceDaysList:[],serviceDaysListId:"",nativeListSelect:[],nativeList:[],natureListSelect:[],natureList:[],skillListSelect:[],skillList:[]}},computed:{companyName:function(){return Object(a.e)("title")}},watch:{serviceIndex:function(e,t){this.serviceName=this.serviceList[e].title,this.serviceId=this.serviceList[e].id}},mounted:function(){var e;e=this,Object(s.b)().then(function(t){e.serviceList=t.data.service_type_list,e.babyraisingBabyNumList=t.data.babyraising_baby_num_list,e.babyNumList=t.data.baby_num_list,e.babyAgeList=t.data.baby_age_list,e.ageList=t.data.age_list,e.expList=t.data.exp_list,e.hulistatusList=t.data.hulistatus_list,e.serviceModeList=t.data.service_mode_list,e.serviceSalaryListAll=t.data.service_salary_list,e.serviceDaysList=t.data.service_days_list}),Object(s.f)().then(function(t){e.nativeList=[{id:"-1",code:"-1",name:"不限"}],e.nativeList=e.nativeList.concat(t.data)}),Object(s.d)().then(function(t){e.natureList=t.data})},methods:{getDate:function(e){var t=new Date(e),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),l=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return t.getFullYear()+"-"+i+"-"+s+" "+a+":"+l+":"+r},nextAction:function(){var e,t,i,a=this;null!==this.name&&""!==this.name?null!==this.phone&&""!==this.phone?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phone)?null!==this.serviceId&&""!==this.serviceId?(this.isFinishFirst=!0,this.serviceSalaryList=this.serviceSalaryListAll.filter(function(e){return e.service_type_id===parseInt(a.serviceId)}),this.serviceSalaryList.sort(function(e,t){return e.salary-t.salary}),this.serviceSalaryList.length>0&&(this.serviceSalaryListId=this.serviceSalaryList[0].id),this.expList.length>0&&(this.expListId=this.expList[0].category),e=this,t=this.serviceId,i="?service_type_id="+t+"&category=skills-label",Object(s.g)(i).then(function(t){e.skillList=t.data.items})):this.$message.error("请选择服务类型"):this.$message.error("请输入格式正确的雇主手机号码"):this.$message.error("请输入雇主电话"):this.$message.error("请输入雇主姓名")},previousAction:function(){this.isFinishFirst=!1,this.clearnDemandInfo()},clearnDemandInfo:function(){this.dueTime="",this.serviceDaysListId="",this.babyraisingBabyNumListId="",this.serviceModeListId="",this.hulistatusListId="",this.babyNumListId="",this.serviceSalaryListId="",this.expListId="",this.ageListId="",this.address="",this.skillListSelect=[],this.nativeListSelect=[],this.natureListSelect=[],this.remark=""},cancelAction:function(){this.$router.push("/demandRecords")},nativeAction:function(e,t){if("-1"===t.code){var i=t.code;-1!==this.nativeListSelect.indexOf("-1")?this.nativeListSelect=[]:(this.nativeListSelect=[],this.nativeListSelect.push(i))}else{var s=t.code,a=this.nativeListSelect.indexOf(s);-1===this.nativeListSelect.indexOf(s)?-1!==this.nativeListSelect.indexOf("-1")?(this.nativeListSelect=[],this.nativeListSelect.push(s)):(this.nativeListSelect.push(s),this.nativeListSelect.length===this.nativeList.length-1&&(this.nativeListSelect=["-1"])):this.nativeListSelect.splice(a,1)}},skillAction:function(e,t){var i=t.id,s=this.skillListSelect.indexOf(i);if(-1===this.skillListSelect.indexOf(i)){if(8===this.skillListSelect.length)return void this.$message.error("技能标签最多为8个");this.skillListSelect.push(i)}else this.skillListSelect.splice(s,1)},natureAction:function(e,t){var i=t.id,s=this.natureListSelect.indexOf(i);if(-1===this.natureListSelect.indexOf(i)){if(6===this.natureListSelect.length)return void this.$message.error("性格标签最多为6个");this.natureListSelect.push(i)}else this.natureListSelect.splice(s,1)},releaseAction:function(){if(1===parseInt(this.serviceId)){if(null===this.dueTime||""===this.dueTime)return void this.$message.error("请选择预产期");if(""===this.serviceDaysListId||null===this.serviceDaysListId)return void this.$message.error("请选择服务期限");if(""===this.babyraisingBabyNumListId||null===this.babyraisingBabyNumListId)return void this.$message.error("请选择宝贝数量")}else if(2===parseInt(this.serviceId)){if(""===this.serviceModeListId||null===this.serviceModeListId)return void this.$message.error("请选择服务方式")}else if(4===parseInt(this.serviceId)){if(""===this.serviceModeListId||null===this.serviceModeListId)return void this.$message.error("请选择服务方式");if(""===this.hulistatusListId||null===this.hulistatusListId)return void this.$message.error("请选择服务对象")}else if(3===parseInt(this.serviceId)){if(""===this.babyNumListId||null===this.babyNumListId)return void this.$message.error("请选择宝宝数量");if(""===this.serviceModeListId||null===this.serviceModeListId)return void this.$message.error("请选择服务方式")}var e,t;""!==this.serviceSalaryListId&&null!==this.serviceSalaryListId?""!==this.expListId&&null!==this.expListId?""!==this.ageListId&&null!==this.ageListId?""!==this.address&&null!==this.address?0!==this.nativeListSelect.length?0!==this.skillListSelect.length?0!==this.natureListSelect.length?((t={}).publisher_name=(e=this).name,t.publisher_phone=e.phone,t.type_id=e.serviceId,t.service_date=1===parseInt(e.serviceId)?e.serviceDaysListId:"12",t.remark=e.remark,t.address_id="0",t.address=e.address,t.native_place_code=e.nativeListSelect.join(","),t.skill_ids=e.skillListSelect.join(","),t.nature_ids=e.natureListSelect.join(","),t.housework_company_id=Object(a.e)("company_id"),""!==e.hulistatusListId&&(t.nursin_status=e.hulistatusListId),""!==e.serviceModeListId&&(t.live_home=e.serviceModeListId),""!==e.dueTime&&(t.due_time=e.getDate(e.dueTime)),""!==e.babyAgeListId&&(t.baby_age=e.babyAgeListId),""!==e.babyraisingBabyNumListId&&(t.baby_num=e.babyraisingBabyNumListId),""!==e.babyNumListId&&(t.baby_num=e.babyNumListId),""!==e.ageListId&&(t.service_age=e.ageListId),""!==e.serviceSalaryListId&&(t.salary_id=e.serviceSalaryListId),""!==e.expListId&&(t.experience_id=e.expListId),Object(s.i)(t).then(function(t){e.$router.push("/demandRecords")})):this.$message.error("请选择性格要求"):this.$message.error("请选择技能要求"):this.$message.error("请选择籍贯要求"):this.$message.error("请输入服务地址"):this.$message.error("请选择年龄要求"):this.$message.error("请选择经验要求"):this.$message.error("请选择服务薪资")}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"top_view"}},[i("p",[e._v("发布人基本信息")]),e._v(" "),i("div",{staticStyle:{overflow:"hidden"}},[i("el-row",[i("el-col",[i("div",{staticClass:"publisher_info_item_view"},[i("el-col",{attrs:{span:10}},[i("label",[e._v("发布人：")])]),e._v(" "),e.isFinishFirst?i("label",[e._v(e._s(e.name))]):i("el-input",{attrs:{placeholder:"请输入雇主姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]),e._v(" "),i("el-col",[i("div",{staticClass:"publisher_info_item_view"},[i("el-col",{attrs:{span:10}},[i("label",[e._v("发布手机号：")])]),e._v(" "),e.isFinishFirst?i("label",[e._v(e._s(e.phone))]):i("el-input",{attrs:{placeholder:"请输入雇主手机号",id:"phoneInPut"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)]),e._v(" "),i("el-col",[i("div",{staticClass:"publisher_info_item_view"},[i("el-col",{attrs:{span:10}},[i("label",[e._v("所属公司：")])]),e._v(" "),i("label",[e._v(e._s(e.companyName))])],1)]),e._v(" "),i("el-col",[i("div",{staticClass:"publisher_info_item_view"},[i("el-col",{attrs:{span:10}},[i("label",[e._v("服务类型：")])]),e._v(" "),e.isFinishFirst?i("label",[e._v(e._s(e.serviceName))]):i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.serviceIndex,callback:function(t){e.serviceIndex=t},expression:"serviceIndex"}},e._l(e.serviceList,function(e,t){return i("el-option",{key:e.id,attrs:{label:e.title,value:t}})}),1)],1)])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFinishFirst,expression:"!isFinishFirst"}],staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.nextAction}},[e._v("下一步")]),e._v(" "),i("el-button",{on:{click:e.cancelAction}},[e._v("取消")])],1)]),e._v(" "),e.isFinishFirst?i("div",{attrs:{id:"middle_view"}},[i("p",[e._v("发布需求信息")]),e._v(" "),1===parseInt(this.serviceId)?i("el-row",[i("el-col",{attrs:{span:24}},[i("label",[e._v("预 产 期 ：")]),e._v(" "),i("el-date-picker",{attrs:{type:"date",placeholder:"请选择预产期"},model:{value:e.dueTime,callback:function(t){e.dueTime=t},expression:"dueTime"}})],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("服务期限：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务期限"},model:{value:e.serviceDaysListId,callback:function(t){e.serviceDaysListId=t},expression:"serviceDaysListId"}},e._l(e.serviceDaysList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("宝贝数量：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择宝贝数量"},model:{value:e.babyraisingBabyNumListId,callback:function(t){e.babyraisingBabyNumListId=t},expression:"babyraisingBabyNumListId"}},e._l(e.babyraisingBabyNumList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1)],1):e._e(),e._v(" "),2===parseInt(this.serviceId)?i("el-row",[i("el-col",{attrs:{span:24}},[i("label",[e._v("服务期限：")]),e._v(" "),i("label",[e._v("12月")])]),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("服务方式：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务方式"},model:{value:e.serviceModeListId,callback:function(t){e.serviceModeListId=t},expression:"serviceModeListId"}},e._l(e.serviceModeList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1)],1):e._e(),e._v(" "),4===parseInt(this.serviceId)?i("el-row",[i("el-col",{attrs:{span:24}},[i("label",[e._v("服务期限：")]),e._v(" "),i("label",[e._v("12月")])]),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("服务方式：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务方式"},model:{value:e.serviceModeListId,callback:function(t){e.serviceModeListId=t},expression:"serviceModeListId"}},e._l(e.serviceModeList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("服务对象：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务对象"},model:{value:e.hulistatusListId,callback:function(t){e.hulistatusListId=t},expression:"hulistatusListId"}},e._l(e.hulistatusList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1)],1):e._e(),e._v(" "),3===parseInt(this.serviceId)?i("el-row",[i("el-col",{attrs:{span:24}},[i("label",[e._v("服务期限：")]),e._v(" "),i("label",[e._v("12月")])]),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("宝宝数量：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择宝宝数量"},model:{value:e.babyNumListId,callback:function(t){e.babyNumListId=t},expression:"babyNumListId"}},e._l(e.babyNumList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("宝宝年龄：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择宝宝年龄"},model:{value:e.babyAgeListId,callback:function(t){e.babyAgeListId=t},expression:"babyAgeListId"}},e._l(e.babyAgeList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("服务方式：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务方式"},model:{value:e.serviceModeListId,callback:function(t){e.serviceModeListId=t},expression:"serviceModeListId"}},e._l(e.serviceModeList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1)],1):e._e(),e._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:24}},[i("label",[e._v("服务薪资：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择服务薪资"},model:{value:e.serviceSalaryListId,callback:function(t){e.serviceSalaryListId=t},expression:"serviceSalaryListId"}},e._l(e.serviceSalaryList,function(e){return i("el-option",{key:e.id,attrs:{label:e.salary,value:e.id}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("经验要求：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择经验要求"},model:{value:e.expListId,callback:function(t){e.expListId=t},expression:"expListId"}},e._l(e.expList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("label",[e._v("年龄要求：")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择年龄要求"},model:{value:e.ageListId,callback:function(t){e.ageListId=t},expression:"ageListId"}},e._l(e.ageList,function(e){return i("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:24}},[i("div",{staticStyle:{display:"flex"}},[i("label",[e._v("服务地址：")]),e._v(" "),i("el-input",{staticStyle:{flex:"1"},attrs:{type:"textarea",rows:"8",resize:"none",maxlength:"500",placeholder:"请输入服务地址信息"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)])],1)],1):e._e(),e._v(" "),e.isFinishFirst?i("div",{attrs:{id:"bottom_view"}},[i("div",{staticClass:"new"},[i("div",{staticClass:"form-group",attrs:{id:"name"}},[i("p",[e._v("籍贯要求：")]),e._v(" "),i("div",{staticClass:"bao"},[i("div",{staticClass:"native"},e._l(e.nativeList,function(t,s){return i("div",{key:s,class:-1===e.nativeListSelect.indexOf(t.code)?"":"active",attrs:{id:t.code},on:{click:function(i){return e.nativeAction(s,t)}}},[e._v(e._s(t.name))])}),0)])])]),e._v(" "),i("div",{staticClass:"new"},[e._m(0),e._v(" "),i("div",{staticClass:"bao"},[i("div",{staticClass:"native"},e._l(e.skillList,function(t,s){return i("div",{key:s,class:-1===e.skillListSelect.indexOf(t.id)?"":"active",attrs:{id:t.id},on:{click:function(i){return e.skillAction(s,t)}}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),i("div",{staticClass:"new"},[e._m(1),e._v(" "),i("div",{staticClass:"bao"},[i("div",{staticClass:"native"},e._l(e.natureList,function(t,s){return i("div",{key:s,class:-1===e.natureListSelect.indexOf(t.id)?"":"active",attrs:{id:t.id},on:{click:function(i){return e.natureAction(s,t)}}},[e._v(e._s(t.name))])}),0)])]),e._v(" "),i("div",{staticStyle:{display:"flex"}},[i("label",[e._v("备注信息：")]),e._v(" "),i("el-input",{staticStyle:{flex:"1"},attrs:{type:"textarea",rows:"8",resize:"none",maxlength:"500",placeholder:"备注信息"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),e._v(" "),i("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[i("el-button",{on:{click:e.previousAction}},[e._v("上一步")]),e._v(" "),i("el-button",{on:{click:e.cancelAction}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.releaseAction}},[e._v("保存")])],1)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",[this._v("技能要求：")]),this._v(" "),t("span",{staticStyle:{color:"#999","font-size":"14px"}},[this._v("请选择1-8个最重要的技能标签。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",[this._v("性格要求：")]),this._v(" "),t("span",{staticStyle:{color:"#999","font-size":"14px"}},[this._v("请选择1-6个最重要的性格标签。")])])}]};var n=i("VU/8")(l,r,!1,function(e){i("EW8w")},"data-v-9bdb7df8",null);t.default=n.exports}});
//# sourceMappingURL=20.df5dcb9ba460292331e3.js.map