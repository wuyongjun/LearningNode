webpackJsonp([10],{"9EDp":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("FcS1"),a=r("5GTM"),c={name:"serviceOrderFrom",data:function(){return{services:{type:-1,payStatus:"all",serviceStatus:"all",employer:"",serviceTime:""},serviceType:[{id:-1,title:"全部"}],payStatus:[{name:"全部",category:"all"}],serviceStatus:[{name:"全部",category:"all"}],pickerOptions:{shortcuts:s.b},conditions:{}}},created:function(){this.fetchConditions()},methods:{fetchConditions:function(){var e=this;Object(a.i)().then(function(t){e.conditions=t.data,e.$store.dispatch("commitChangeOrderStatus",Object(s.a)(e.conditions)),e.fetchServiceType(),e.fetchPayStatus(),e.fetchServiceStatus(),e.$emit("fetchServiceOrders")})},fetchServiceType:function(){this.serviceType=this.serviceType.concat(this.conditions.service_type)},fetchPayStatus:function(){this.payStatus=this.payStatus.concat(this.conditions.pay_status)},fetchServiceStatus:function(){this.serviceStatus=this.serviceStatus.concat(this.conditions.service_status)},search:function(){this.$emit("searchOrders",this.services)},clear:function(){this.services={type:-1,payStatus:"all",serviceStatus:"all",employer:"",serviceTime:""},this.$emit("clearSearchConditions",this.services)}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"service-order-form"}},[r("el-form",{attrs:{inline:!0,model:e.services}},[r("el-form-item",{attrs:{label:"服务类型"}},[r("el-select",{attrs:{placeholder:"服务类型"},model:{value:e.services.type,callback:function(t){e.$set(e.services,"type",t)},expression:"services.type"}},e._l(e.serviceType,function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"支付状态"}},[r("el-select",{attrs:{placeholder:"支付状态"},model:{value:e.services.payStatus,callback:function(t){e.$set(e.services,"payStatus",t)},expression:"services.payStatus"}},e._l(e.payStatus,function(e){return r("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"服务状态"}},[r("el-select",{attrs:{placeholder:"服务状态"},model:{value:e.services.serviceStatus,callback:function(t){e.$set(e.services,"serviceStatus",t)},expression:"services.serviceStatus"}},e._l(e.serviceStatus,function(e){return r("el-option",{key:e.category,attrs:{label:e.name,value:e.category}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"雇主姓名"}},[r("el-input",{attrs:{placeholder:"雇主姓名"},model:{value:e.services.employer,callback:function(t){e.$set(e.services,"employer",t)},expression:"services.employer"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"default"},on:{click:e.clear}},[e._v("清除筛选项")])],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(c,i,!1,function(e){r("vCw5")},"data-v-b82e58f6",null).exports,o=r("4JFn"),l=r("USxO"),u={name:"serviceOrders",data:function(){return{currentPage:1,pageSize:10,total:0,searchParams:{},isPagination:!0,fields:l.c,orders:[]}},components:{"service-search-form":n,"service-order-table":o.a},created:function(){this.$store.dispatch("commitChangeTopTitles",["订单管理","服务订单"])},methods:{searchOrders:function(e){this.searchParams=e,this.fetchOrders()},clearSearchConditions:function(e){this.searchParams=e,this.fetchOrders()},fetchOrders:function(){var e=this;this.searchParams.page=this.currentPage,this.searchParams.perPage=this.pageSize,Object(a.j)(Object(s.c)(this.searchParams)).then(function(t){var r=e.$store.getters.getOrderStatus;e.orders=Object(l.g)(t.data.items,r),e.total=t.data.total})},changeCurrentPage:function(e){this.currentPage=e,this.fetchOrders()},checkSerOrderDetail:function(e){this.$router.push("/serviceOrderDetail/"+e.orderId)}}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"service-orders-container",attrs:{id:"service-orders"}},[r("el-row",[r("el-col",[r("el-card",{staticClass:"card-box pt-0",attrs:{shadow:"hover"}},[r("service-search-form",{on:{searchOrders:e.searchOrders,clearSearchConditions:e.clearSearchConditions,fetchServiceOrders:e.fetchOrders}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",[r("el-card",{staticClass:"card-box",attrs:{shadow:"hover"}},[r("el-row",[r("el-col",[r("span",{staticClass:"count"},[e._v("数据统计：共"+e._s(e.total)+"条")])])],1),r("br"),e._v(" "),r("el-row",[r("el-col",[r("service-order-table",{attrs:{tableData:e.orders,isPagination:e.isPagination,page:e.currentPage,total:e.total,fields:e.fields},on:{changeCurrentPage:e.changeCurrentPage,checkSerOrderDetail:e.checkSerOrderDetail}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(u,h,!1,function(e){r("PhqW")},"data-v-61df0f8d",null);t.default=d.exports},PhqW:function(e,t){},vCw5:function(e,t){}});
//# sourceMappingURL=10.8ab5601cb8c7f8d585e2.js.map