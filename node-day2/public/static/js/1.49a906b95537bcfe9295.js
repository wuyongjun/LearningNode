webpackJsonp([1],{"+bbJ":function(t,e){},"37gB":function(t,e,a){"use strict";var i=a("E9PD"),s={name:"uploadVideo",props:["use"],data:function(){return{uploadHeaders:{"Authentication-Token":localStorage.getItem("token")}}},methods:{uploadTest:function(t){var e=this,a=new FormData;a.append("photo_id",t.file),Object(i.k)(a).then(function(t){var a={path:t.data.file_path,use:e.use};e.$emit("uploadSucc",a)})},uploadAction:function(t){var e=this;Object(i.l)({upload_type:"admin"}).then(function(a){var s={host:a.data.host},n=new FormData,l=t.file.name.split(".")[t.file.name.split(".").length-1],o=e.$md5((new Date).getTime()+"_"+t.file.name);n.append("callback",a.data.callback),n.append("success_action_status","200"),n.append("OSSAccessKeyId",a.data.accessid),n.append("policy",a.data.policy),n.append("signature",a.data.signature),n.append("key",""+a.data.dir+o+"."+l),n.append("host",a.data.host),n.append("file",t.file),n.append("expire",a.data.expire),n.append("name",o+"."+l),s.fd=n,Object(i.j)(s.host,s.fd).then(function(t){var a={path:s.host+"/"+t.filename,host:""+s.host,use:e.use};e.$emit("uploadSucc",a)})})},beforeAvatarUpload:function(t){var e=t.size/1024/1024<20,a=/\.(jpg|jpeg|png|bmp|JPG|PNG|BMP)$/.test(t.name);return e||this.$alert("上传图片大小不能超过 20MB!","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),a||this.$alert("上传图片类型不符合要求!","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),e&&a},remove:function(t,e){var a={file:t,fileList:e,use:this.use};this.$emit("removeFile",a)}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"upload-video"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"default","show-file-list":!1,"http-request":this.uploadAction,"before-upload":this.beforeAvatarUpload}},[this._t("default")],2)],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("tQwV")},"data-v-cc74005a",null);e.a=l.exports},"5zde":function(t,e,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},"64WK":function(t,e,a){"use strict";var i=a("9P38"),s={props:["TagsArr","updateStatus","serviceTypeId","type","inputShowCondition","model"],data:function(){return{}},methods:{chooseTag:function(t){!0===this.updateStatus&&("choosed"===t.status?t.status="":t.status="choosed",this.$forceUpdate())},showInput:function(t){this.inputShowCondition.value=!0},handleInputConfirm:function(){if("技能"===this.type){if(""===this.serviceTypeId||!this.serviceTypeId)return this.$message("请先选择服务类型"),this.inputShowCondition.value=!1,this.model.value="",!1;var t=this.model.value;if(t){var e={};e.name=t,e.service_type_id=this.serviceTypeId,e.category="skills-label",this.addSkillCert(e)}this.inputShowCondition.value=!1,this.model.value=""}if("性格"===this.type){var a=this.model.value;if(a){var i={};i.name=a,this.addCharacter(i)}this.inputShowCondition.value=!1,this.model.value=""}if("证书"===this.type){if(""===this.serviceTypeId||!this.serviceTypeId)return this.$message("请先选择服务类型"),this.inputShowCondition.value=!1,this.model.value="",!1;var s=this.model.value;if(s){var n={};n.name=s,n.service_type_id=this.serviceTypeId,n.category="certificate-label",this.addSkillCert(n)}this.inputShowCondition.value=!1,this.model.value=""}},addCharacter:function(t){var e=this;Object(i.b)(t).then(function(t){e.TagsArr.push(t.data),e.TagsArr[e.TagsArr.length-1].status="choosed"})},addSkillCert:function(t){var e=this;Object(i.c)(t).then(function(t){e.TagsArr.push(t.data),e.TagsArr[e.TagsArr.length-1].status="choosed"})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.TagsArr,function(e,i){return a("el-tag",{key:i,staticStyle:{"margin-right":"10px"},attrs:{"disable-transitions":!1,effect:"choosed"===e.status?"dark":"plain"},nativeOn:{click:function(a){return t.chooseTag(e)}}},[t._v(t._s(e.name))])}),t._v(" "),t.updateStatus?a("span",[t.inputShowCondition.value?a("el-input",{ref:"saveTagCharacter",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(e){return t.showInput(t.type)}}},[t._v("添加"+t._s(t.type))])],1):t._e()],2)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("oqa7")},null,null);e.a=l.exports},"6PkX":function(t,e,a){"use strict";var i=a("E9PD"),s={name:"uploadVideo",props:["use"],data:function(){return{fileList:[],uploadHeaders:{"Authentication-Token":localStorage.getItem("token")}}},methods:{uploadTest:function(t){var e=this,a=new FormData;a.append("photo_id",t.file),Object(i.k)(a).then(function(t){var a={path:t.data.file_path,use:e.use};e.$emit("uploadSucc",a)})},uploadAction:function(t){var e=this;this.fileList=[];Object(i.l)({upload_type:"admin"}).then(function(a){var s={host:a.data.host},n=new FormData,l=t.file.name.split(".")[t.file.name.split(".").length-1],o=e.$md5((new Date).getTime()+"_"+t.file.name);n.append("callback",a.data.callback),n.append("success_action_status","200"),n.append("OSSAccessKeyId",a.data.accessid),n.append("policy",a.data.policy),n.append("signature",a.data.signature),n.append("key",""+a.data.dir+o+"."+l),n.append("host",a.data.host),n.append("file",t.file),n.append("expire",a.data.expire),n.append("name",o+"."+l),s.fd=n,Object(i.j)(s.host,s.fd).then(function(t){var a={path:"/"+t.filename,host:""+s.host,use:e.use};e.fileList=[{url:t.filename,name:t.filename}],e.$emit("uploadSucc",a)})})},beforeAvatarUpload:function(t){var e=t.size/1024/1024<200,a=/\.(mp4|MP4|MOV|mov)$/.test(t.name);return e||this.$alert("上传视频大小不能超过200M！","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),a||this.$alert("上传视频类型不符合要求!","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),e&&a},remove:function(t,e){var a={file:t,fileList:e,use:this.use};this.$emit("removeFile",a)}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"upload-video"}},[e("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!0,"file-list":this.fileList,action:"default",limit:1,"before-upload":this.beforeAvatarUpload,"http-request":this.uploadAction}},[e("el-button",{attrs:{size:"small",type:"primary"}},[e("span",{staticClass:"red"},[this._v(" * ")]),e("span",{staticClass:"needsclick"},[this._v("点击上传视频")])]),this._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[this._v("视频格式只支持：MP4，大小不超过200M")])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("+bbJ")},"data-v-1f8a0f40",null);e.a=l.exports},"7CyV":function(t,e){},DQFM:function(t,e,a){"use strict";a.d(e,"f",function(){return i}),a.d(e,"a",function(){return s}),a.d(e,"c",function(){return n}),a.d(e,"g",function(){return l}),a.d(e,"e",function(){return o}),a.d(e,"b",function(){return r}),a.d(e,"d",function(){return c});var i=function(t){return t.map(function(t){var e={};return e.value=t.id,e.label=t.name,e.category=t.category,e})},s={photo:"",video:"",title:"",id_card:"",addr_province:"",addr_city:"",phone:"",self_intro:"",birthday:"",bankcard_number:"",birthplace_county_id:"",birthplace_province_id:"",birthplace_city_id:"",work_experience:"",service_type_id:"",salary:"",addr:"",housework_company_id:"",service_label:"",nature:"",level_id:"",service_status:"",housework_company:{title:""}},n=[{label:"订单号",field:"code"},{label:"类型",field:"service_type"},{label:"阿姨姓名",field:"user_name"},{label:"下单时间",field:"create_time"},{label:"服务起始时间",field:"service_apply_time"},{label:"服务截止时间",field:"service_end_time"},{label:"订单金额",field:"price"},{label:"服务费",field:"old_user_agency"},{label:"订单状态",field:"status"},{label:"订单详情",field:"name"}],l=[{label:"提现时间",field:"create_time"},{label:"类型",field:"withdraw_tag"},{label:"金额",field:"price"},{label:"到账银行账户",field:"card_number"},{label:"提现时刻余额",field:"balance"},{label:"审核操作人",field:"title"},{label:"操作时间",field:"update_time"},{label:"到款状态",field:"withdraw_status"}],o={"s-in-salary":"阿姨工资收入","s-out-withdraw":"阿姨提现","s-out-agency":"阿姨服务费","u-in-agency":"用户服务费","u-out-agency":"用户服务费","u-out-salary":"用户工资","u-in-salay":"用户工资","c-out-withdraw":"家政公司提现","u-out-discharge":"用户终止合同","u-out-due":"用户订单过期","u-out-chage":"跟换阿姨"},r={processing:"处理中",finished:"已完成"},c={pending:"预约中",staysigning:"待签约",inservice:"服务中",completed:"已完成"}},Gu7T:function(t,e,a){"use strict";e.__esModule=!0;var i,s=a("c/Tr"),n=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,n.default)(t)}},J68u:function(t,e,a){"use strict";var i=a("E9PD"),s={name:"uploadImages",props:["updateStatus","use","fileList"],data:function(){return{dialogVisible:!1,dialogImageUrl:"",limit:9,uploadHeaders:{"Authentication-Token":localStorage.getItem("token")}}},methods:{uploadImg:function(t){var e=this,a=new FormData;a.append("photo_id",t.file),Object(i.k)(a).then(function(t){var a={path:t.data.file_path,use:e.use};e.$emit("uploadSucc",a)})},beforeAvatarUpload:function(t){var e=t.size/1024/1024<20,a=/\.(jpg|jpeg|png|bmp|JPG|PNG|BMP)$/.test(t.name);return e||this.$alert("上传图片大小不能超过 20MB!","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),a||this.$alert("上传图片类型不符合要求!","友情提示",{confirmButtonText:"确 定",callback:function(t){}}),e&&a},uploadAction:function(t){var e=this;Object(i.l)({upload_type:"admin"}).then(function(a){var s={host:a.data.host},n=new FormData,l=t.file.name.split(".")[t.file.name.split(".").length-1],o=e.$md5((new Date).getTime()+"_"+t.file.name);n.append("callback",a.data.callback),n.append("success_action_status","200"),n.append("OSSAccessKeyId",a.data.accessid),n.append("policy",a.data.policy),n.append("signature",a.data.signature),n.append("key",""+a.data.dir+o+"."+l),n.append("host",a.data.host),n.append("file",t.file),n.append("expire",a.data.expire),n.append("name",o+"."+l),s.fd=n,Object(i.j)(s.host,s.fd).then(function(t){var a={path:s.host+"/"+t.filename,host:""+s.host,use:e.use};e.$emit("uploadSucc",a),e.fileList.length})})},remove:function(t,e){var a={file:t,fileList:e,use:this.use};this.$emit("removeFile",a)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"upload-images"}},[a("el-upload",{class:t.updateStatus?"":"no-border",attrs:{disabled:!t.updateStatus,"file-list":t.fileList,action:"default","http-request":t.uploadAction,headers:t.uploadHeaders,"list-type":"picture-card","before-upload":t.beforeAvatarUpload,limit:t.limit,"on-remove":t.remove,"on-preview":t.handlePictureCardPreview}},[a("div",{staticClass:"needsclick"},[a("i",{staticClass:"needsclick",class:!!t.updateStatus&&"el-icon-plus"})])]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{staticClass:"needsclick",attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var l=a("VU/8")(s,n,!1,function(t){a("tQu9"),a("rvDX")},"data-v-0ee2f5fb",null);e.a=l.exports},"X4A/":function(t,e){},"c/Tr":function(t,e,a){t.exports={default:a("5zde"),__esModule:!0}},fBQ2:function(t,e,a){"use strict";var i=a("evD5"),s=a("X8DO");t.exports=function(t,e,a){e in t?i.f(t,e,s(0,a)):t[e]=a}},le5T:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),n=a("Gu7T"),l=a.n(n),o=a("//Fk"),r=a.n(o),c=a("9P38"),u=a("E9PD"),d=a("DQFM"),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"total"},[t._v("数据统计：共"+t._s(t.total)+"条")]),a("br"),a("br"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,border:""}},t._l(t.colData,function(e,i){return a("el-table-column",{key:i,attrs:{prop:e.field,label:e.label,index:e.index,align:"center",width:t.width},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n          "+t._s(i.row[e.field])+"\n          "),t._v(" "),"first"===t.indexList&&"name"===e.field?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.lookOrderDetail(i.row.id)}}},[t._v("\n            查看详情\n        ")]):t._e()]}}],null,!0)})}),1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"prev-text":"上一页","next-text":"下一页","current-page":t.page},on:{"current-change":t.pageChange}})],1)],1)},staticRenderFns:[]};var h=a("VU/8")({props:["indexList","data","colData","width","page","perPage","total"],data:function(){return{}},watch:{page:function(){return this.page}},methods:{lookOrderDetail:function(t){this.$router.push("/v2/serviceOrderDetail/"+t)},pageChange:function(t){this.$emit("getTableData",t)}}},p,!1,function(t){a("X4A/")},"data-v-aef5308e",null).exports,v=a("S6Tm"),f={props:["id","optionsStatus"],components:{myTable:h},data:function(){return{total:0,activeName:"first",activeCols:[],activeTableData:[],orderData:[],withdrawDepositData:[],orderCols:d.c,withdrawCols:d.g,statusTemp:d.e,billStatusTemp:d.b,orderStatusTemp:d.d,page:1,per_page:10}},created:function(){this.getOrderList()},methods:{getTableDataAccept:function(t){this.page=t,"first"===this.activeName?this.getOrderList():"second"===this.activeName?this.getWithdrawList():"third"===this.activeName||"fourth"===this.activeName||"five"===this.activeName||this.activeName},getOrderList:function(){var t=this,e={id:this.id,per_page:this.per_page,page:this.page};Object(c.j)(e).then(function(e){e.data.items.forEach(function(e,a){e.service_apply_time&&(e.service_apply_time=Object(v.b)(e.service_apply_time,"yyyy-MM-dd")),e.create_time&&(e.service_end_time=Object(v.b)(e.service_end_time,"yyyy-MM-dd")),e.create_time&&(e.create_time=Object(v.b)(e.create_time,"yyyy-MM-dd")),e.order_object&&(e.service_type=e.order_object.type_name,e.user_name=e.order_object.user_name),e.status=t.orderStatusTemp[e.status]}),t.activeTableData=e.data.items,t.activeCols=t.orderCols,t.total=e.data.total})},getWithdrawList:function(){var t=this,e={id:this.id,per_page:this.per_page,page:this.page};Object(c.o)(e).then(function(e){e.data.items.forEach(function(e,a){e.create_time=Object(v.b)(e.create_time,"yyyy-MM-dd"),e.update_time=Object(v.b)(e.update_time,"yyyy-MM-dd"),e.withdraw_tag&&(e.withdraw_tag=t.statusTemp[e.withdraw_tag]),e.withdraw_status&&(e.withdraw_status=t.billStatusTemp[e.withdraw_status]),e.bank_card_objeck&&(e.card_number=e.bank_card_objeck.card_number)}),t.activeCols=t.withdrawCols,t.activeTableData=e.data.items,t.total=e.data.total})},handleClick:function(t,e){this.page=1,this.activeName=t.name,"first"===t.name&&this.getOrderList(),"second"===t.name&&this.getWithdrawList()}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab"},[a("el-tabs",{staticStyle:{"font-size":"18px"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"订单记录",name:"first"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"提现记录",name:"second"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"学习记录",name:"third"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"被投诉记录",name:"fourth"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"信用值记录",name:"five"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"分销记录",name:"six"}})],1),t._v(" "),a("myTable",{attrs:{data:t.activeTableData,indexList:t.activeName,colData:t.activeCols,page:t.page,perPage:t.per_page,total:t.total},on:{getTableData:t.getTableDataAccept}})],1)},staticRenderFns:[]},m=a("VU/8")(f,_,!1,null,null,null).exports,b=a("J68u"),g=a("37gB"),y=a("6PkX"),A={components:{RecordList:m,Tag:a("64WK").a,"upload-images":b.a,"upload-photo":g.a,"upload-video":y.a},data:function(){return{fit:"contain",pid:"-1",bir_addr:[],Live:[],code:"",creditCode:"0",balance:"0",props:{},dialogVisible:!1,updateStatus:!1,dialogImageUrl:"",AuntDetail:d.a,optionsStatus:[],educationOptions:[],addressOptions:[],placeOptions:[],levelOptions:[],inputValue:{value:""},inputVisible:{value:!1},CharaValue:{value:""},Chara:{value:!1},CertificateVisible:{value:!1},CertificateValue:{value:""},skillTags:[],characterTags:[],certificateTags:[],certificateFileList:[],workPhotosFileList:[],certificateImages:[],workPhotos:[],ossHost:"https://deixian.oss-cn-beijing.aliyuncs.com",serveTypeOptions:"",id:"",removeImgIds:[]}},created:function(){var t=this;this.$store.dispatch("commitChangeTopTitles",["阿姨管理","阿姨信息","阿姨详情"]),this.id=this.$route.params.id,r.a.all([this.getTypeOption(),this.getStatusOption(),this.getCharacterTags(),this.getEducations()]).then(function(e){t.getAuntDetail()})},methods:{getTag:function(){this.AuntDetail.level_id=null,this.getLevel(),this.getSkillTag(),this.getCertificateTags()},removeFile:function(t){var e=this;this.certificateFileList.forEach(function(a,i){a.url===t.file.url&&e.certificateFileList.splice(i,1)}),this.workPhotosFileList.forEach(function(a,i){a.url===t.file.url&&e.workPhotosFileList.splice(i,1)}),t.file.id?this.removeImgIds.push(t.file.id):(this.certificateImages.forEach(function(a,i){a===t.file.url&&e.certificateImages.splice(i,1)}),this.workPhotos.forEach(function(a,i){a===t.file.url&&e.workPhotos.splice(i,1)}))},getAuntDetail:function(){var t=this;return new r.a(function(e,a){Object(c.h)(t.$route.params.id).then(function(a){if("success"===a.status){t.code=a.data.id,a.data.service_type_id=a.data.service_type.id,t.Live=[a.data.addr_info[0].code,a.data.addr_info[1].code],t.bir_addr=[a.data.region_info[0].code,a.data.region_info[1].code],a.data.Age=Object(v.a)(a.data.id_card);var i=t;t.props={lazy:!0,lazyLoad:function(t,e){var a=t.level,s={};t.data&&(i.pid=t.data.id),s.id=i.pid,Object(c.k)(s).then(function(t){var i=t.data;i.forEach(function(t){t.value=t.code,t.id=t.id,t.label=t.name,t.leaf=a>=1}),e(i)})}},a.data.skills_label.forEach(function(t){t.status="choosed"}),a.data.nature_label.forEach(function(t){t.status="choosed"}),a.data.cert_label&&a.data.cert_label.forEach(function(t){t.status="choosed"}),t.skillTags=a.data.skills_label,t.certificateTags=a.data.cert_label,t.characterTags=a.data.nature_label,a.data.cert_image.forEach(function(t){t.url=t.img_url}),a.data.work_style.forEach(function(t){t.url=t.img_url}),t.workPhotosFileList=a.data.work_style,t.certificateFileList=a.data.cert_image,t.AuntDetail=a.data,t.AuntDetail.bankcard_number=t.AuntDetail.bankcard}t.getLevel(),e(a)})})},uploadPhoto:function(t){var e=this,a=new FormData;a.append("photo_id",t.file),Object(u.k)(a).then(function(t){e.AuntDetail.photo=t.data.file_path})},getStatusOption:function(){var t=this;return new r.a(function(e,a){Object(c.m)().then(function(a){var i=[],s=a.data;for(var n in s){var l={};l.label=s[n],l.value=n,i.push(l)}t.optionsStatus=i,e(a)})})},getEducations:function(){var t=this;Object(c.e)().then(function(e){var a=e.data.educationList;t.educationOptions=Object(d.f)(a)})},verify:function(){if(this.AuntDetail.photo)if(this.AuntDetail.title)if(this.AuntDetail.service_type_id)if(this.AuntDetail.phone)if(/^1(3|4|5|7|8)\d{9}$/.test(this.AuntDetail.phone))if(this.AuntDetail.id_card){if(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(this.AuntDetail.id_card))if(this.AuntDetail.education)if(this.AuntDetail.birthplace_province_id)if(this.AuntDetail.addr_province)if(this.AuntDetail.work_experience)if(this.AuntDetail.level_id){if(this.AuntDetail.nature&&""!==this.AuntDetail.nature)return!0;this.$message("请选择选择性格标签")}else this.$message("请选择等级");else this.$message("请填写工作经验");else this.$message("请选择现居地地址");else this.$message("请选择籍贯");else this.$message("请输入选择学历");else this.$message("身份证格式错误")}else this.$message("请填写身份证号");else this.$message("手机号格式错误");else this.$message("请输入手机号");else this.$message("请选择服务类型");else this.$message("请输入姓名");else this.$message("请上传头像")},sorting:function(){var t=this,e=[],a=[];this.skillTags.forEach(function(t){"choosed"===t.status&&e.push(t.id)}),this.certificateTags.forEach(function(t){"choosed"===t.status&&e.push(t.id)}),this.characterTags.forEach(function(t){"choosed"===t.status&&a.push(t.id)}),this.AuntDetail.service_label=e.join(","),this.AuntDetail.nature=a.join(",");var i=[].concat(l()(this.certificateImages));i=i.map(function(e){return e=e.split(t.ossHost)[1]});var n=[].concat(l()(this.workPhotos));n=n.map(function(e){return e=e.split(t.ossHost)[1]}),this.AuntDetail.cert_image=i,this.AuntDetail.work_style=n;var o=s()({},this.AuntDetail),r=this.AuntDetail.photo,c=this.AuntDetail.video;return-1!==r.indexOf(this.ossHost)?o.photo=r.split(this.ossHost)[1]:o.photo=r,-1!==c.indexOf(this.ossHost)?o.video=c.split(this.ossHost)[1]:o.video=c,o.id_hold&&(o.id_hold=o.id_hold.split(this.ossHost)[1]),o.id_back&&(o.id_back=o.id_back.split(this.ossHost)[1]),delete o.live_home,o},submit:function(){var t=this,e=this.sorting();if(this.verify(e)){var a={cert_ids:this.removeImgIds};Object(c.p)(a).then(function(a){Object(c.s)(e).then(function(e){"success"===e.status&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/AuntList"))})})}},update:function(){this.updateStatus=!0,this.getSkillTag(),this.getCharacterTags(),this.getCertificateTags()},getLevel:function(){var t=this;return new r.a(function(e,a){var i={type:t.AuntDetail.service_type_id};Object(c.i)(i).then(function(a){var i={},s=a.data;s.forEach(function(t){i[t.salary]=t.id,t.value=t.id,t.label=t.level_name}),t.salaryToLevel=i,t.levelOptions=s,t.AuntDetail.level_id=t.salaryToLevel[t.AuntDetail.salary],e(a)})})},getTypeOption:function(){var t=this;return new r.a(function(e,a){Object(c.n)().then(function(a){var i=a.data.items;i.forEach(function(t){t.value=t.id,t.label=t.title});var s=i;t.serveTypeOptions=s,e(a)})})},changeLevel:function(t){var e=this;this.levelOptions.forEach(function(a){a.id===t&&(e.AuntDetail.salary=a.salary)})},getSkillTag:function(){var t=this,e={category:"skills-label"};return e.service_type_id=this.AuntDetail.service_type_id,new r.a(function(a,i){Object(c.l)(e).then(function(e){var i=e.data.items;t.AuntDetail.skills_label&&i.forEach(function(e){t.AuntDetail.skills_label.forEach(function(t){e.id===t.id&&(e.status="choosed")})}),t.skillTags=i,a(e)})})},getCharacterTags:function(){var t=this;return new r.a(function(e,a){Object(c.g)().then(function(a){var i=a.data;t.AuntDetail.nature_label&&i.forEach(function(e){t.AuntDetail.nature_label.forEach(function(t){e.id===t.id&&(e.status="choosed")})}),t.characterTags=i,e(a)})})},getCertificateTags:function(){var t=this,e={category:"certificate-label"};return e.service_type_id=this.AuntDetail.service_type_id,new r.a(function(a,i){Object(c.f)(e).then(function(e){var i=e.data.items;t.AuntDetail.cert_label&&i.forEach(function(e){t.AuntDetail.cert_label.forEach(function(t){e.id===t.id&&(e.status="choosed")})});var s=i;t.certificateTags=s,a(e)})})},handleChangePlace:function(t){this.AuntDetail.birthplace_province_id=t[0],this.AuntDetail.birthplace_city_id=t[1]},handleChangeLive:function(t){this.AuntDetail.addr_province=t[0],this.AuntDetail.addr_city=t[1]},uploadSucc:function(t){this.ossHost=t.host,"cert"===t.use?(this.certificateFileList.push({url:t.path}),this.certificateImages.push(t.path)):"work"===t.use?(this.workPhotosFileList.push({url:t.path}),this.workPhotos.push(t.path)):"ayiVideo"===t.use?this.AuntDetail.video=t.path:this.AuntDetail.photo=t.path}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-aunt"},[a("el-card",{staticStyle:{overflow:"auto"}},[a("div",{staticClass:"info"},[a("div",{staticClass:"info-header"},[a("header",[t._v("基本信息")]),t._v(" "),a("div",[t.updateStatus?t._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.update}},[t._v("修改")]),t._v(" "),t.updateStatus?a("el-button",{attrs:{size:"small"},on:{click:t.submit}},[t._v("保存")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"info-content"},[a("div",{staticClass:"info-left"},[a("upload-photo",{attrs:{use:"ayiPhoto"},on:{uploadSucc:t.uploadSucc}},[""!==t.AuntDetail.photo?a("img",{staticClass:"avatar needsclick",attrs:{src:t.AuntDetail.photo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"130px","font-size":"10px",height:"130px","line-height":"130px",border:"1px solid","border-radius":"50%"}},[a("span",[t._v("点击上传阿姨照片")])])]),t._v(" "),t.updateStatus?a("span",{staticStyle:{"font-size":"10px",color:"#999"}},[t._v("点击头像可更换阿姨照片")]):t._e(),t._v(" "),t.updateStatus?t._e():a("video",{staticStyle:{"margin-top":"10px",width:"230px"},attrs:{src:t.AuntDetail.video,controls:"controls",height:"120px"}},[t._v("\n            您的浏览器不支持 video 标签。\n          ")]),t._v(" "),t.updateStatus?a("upload-video",{staticStyle:{"margin-top":"15px"},attrs:{use:"ayiVideo"},on:{uploadSucc:t.uploadSucc}}):t._e(),t._v(" "),a("span",{staticClass:"credit"},[t._v("信用值:100")])],1),t._v(" "),a("div",{staticClass:"info-center-left"},[a("div",[a("span",[t._v("阿姨姓名")]),a("el-input",{attrs:{disabled:""},model:{value:t.AuntDetail.title,callback:function(e){t.$set(t.AuntDetail,"title",e)},expression:"AuntDetail.title"}})],1),t._v(" "),a("div",[a("span",[t._v("所属公司")]),a("el-input",{attrs:{disabled:""},model:{value:t.AuntDetail.housework_company.title,callback:function(e){t.$set(t.AuntDetail.housework_company,"title",e)},expression:"AuntDetail.housework_company.title"}})],1),t._v(" "),a("div",[a("span",[t._v("服务类别")]),t._v(" "),a("el-select",{attrs:{disabled:!t.updateStatus,placeholder:"请选择服务类型"},on:{change:function(e){return t.getTag()}},model:{value:t.AuntDetail.service_type_id,callback:function(e){t.$set(t.AuntDetail,"service_type_id",e)},expression:"AuntDetail.service_type_id"}},t._l(t.serveTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("span",[t._v("阿姨状态")]),t._v(" "),a("el-select",{attrs:{disabled:!t.updateStatus,placeholder:"请选择服务状态"},model:{value:t.AuntDetail.service_status,callback:function(e){t.$set(t.AuntDetail,"service_status",e)},expression:"AuntDetail.service_status"}},t._l(t.optionsStatus,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("span",[t._v("手机号码")]),t._v(" "),a("el-input",{attrs:{disabled:!t.updateStatus,placeholder:"请输入手机号码"},model:{value:t.AuntDetail.phone,callback:function(e){t.$set(t.AuntDetail,"phone",e)},expression:"AuntDetail.phone"}})],1),t._v(" "),a("div",[a("span",[t._v("自我介绍")]),t._v(" "),a("el-input",{attrs:{type:"textarea",disabled:!t.updateStatus,autosize:{minRows:4,maxRows:6},placeholder:"请填写自我介绍"},model:{value:t.AuntDetail.self_intro,callback:function(e){t.$set(t.AuntDetail,"self_intro",e)},expression:"AuntDetail.self_intro"}})],1)]),t._v(" "),a("div",{staticClass:"info-center-right"},[a("div",[a("span",[t._v("身份证号")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.AuntDetail.id_card,callback:function(e){t.$set(t.AuntDetail,"id_card",e)},expression:"AuntDetail.id_card"}})],1),t._v(" "),a("div",[a("span",[t._v("出生日期")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.AuntDetail.birthday.split(" ")[0],callback:function(e){t.$set(t.AuntDetail.birthday.split(" "),0,e)},expression:"AuntDetail.birthday.split(' ')[0]"}})],1),t._v(" "),a("div",[a("span",[t._v("年龄")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.AuntDetail.Age,callback:function(e){t.$set(t.AuntDetail,"Age",e)},expression:"AuntDetail.Age"}})],1),t._v(" "),a("div",[a("span",[t._v("学历")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择学历",disabled:!t.updateStatus},model:{value:t.AuntDetail.education,callback:function(e){t.$set(t.AuntDetail,"education",e)},expression:"AuntDetail.education"}},t._l(t.educationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("span",[t._v("籍贯")]),t._v(" "),a("div",{staticStyle:{width:"100%"}},[0!==t.bir_addr.length?a("el-cascader",{staticStyle:{width:"100%"},attrs:{props:t.props,disabled:!t.updateStatus},on:{change:t.handleChangePlace},model:{value:t.bir_addr,callback:function(e){t.bir_addr=e},expression:"bir_addr"}}):t._e()],1)]),t._v(" "),a("div",[a("span",[t._v("现居地")]),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{width:"100%"}},[0!==t.Live.length?a("el-cascader",{staticStyle:{width:"100%","margin-bottom":"1px"},attrs:{props:t.props,disabled:!t.updateStatus},on:{change:t.handleChangeLive},model:{value:t.Live,callback:function(e){t.Live=e},expression:"Live"}}):t._e()],1),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入现居地址",disabled:!t.updateStatus},model:{value:t.AuntDetail.addr,callback:function(e){t.$set(t.AuntDetail,"addr",e)},expression:"AuntDetail.addr"}})],1)])]),t._v(" "),a("div",{staticClass:"info-right"},[a("div",[a("span",[t._v("等级")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择等级",disabled:!t.updateStatus},on:{change:t.changeLevel},model:{value:t.AuntDetail.level_id,callback:function(e){t.$set(t.AuntDetail,"level_id",e)},expression:"AuntDetail.level_id"}},t._l(t.levelOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("span",[t._v("经验")]),t._v(" "),a("el-input",{attrs:{placeholder:"（单位：个月）",disabled:!t.updateStatus},model:{value:t.AuntDetail.work_experience,callback:function(e){t.$set(t.AuntDetail,"work_experience",e)},expression:"AuntDetail.work_experience"}})],1),t._v(" "),a("div",[a("span",[t._v("薪资")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入薪资",disabled:""},model:{value:t.AuntDetail.salary,callback:function(e){t.$set(t.AuntDetail,"salary",e)},expression:"AuntDetail.salary"}})],1),t._v(" "),a("div",[a("span",[t._v("账户总额")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.creditCode,callback:function(e){t.creditCode=e},expression:"creditCode"}})],1),t._v(" "),a("div",[a("span",[t._v("账户余额")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}})],1),t._v(" "),a("div",[a("span",[t._v("银行卡号")]),t._v(" "),a("el-input",{attrs:{placeholder:"暂无",disabled:""},model:{value:t.AuntDetail.bankcard_number,callback:function(e){t.$set(t.AuntDetail,"bankcard_number",e)},expression:"AuntDetail.bankcard_number"}})],1)])])])]),t._v(" "),a("el-card",{staticStyle:{overflow:"auto","margin-top":"30px"}},[a("div",{staticClass:"jobSkill"},[a("h2",[t._v("工作技能")]),t._v(" "),a("div",[a("span",[t._v("技能")]),t._v(" "),a("Tag",{attrs:{TagsArr:t.skillTags,model:t.inputValue,inputShowCondition:t.inputVisible,updateStatus:t.updateStatus,serviceTypeId:t.AuntDetail.service_type_id,type:"技能"}})],1),t._v(" "),a("div",[a("span",[t._v("性格")]),t._v(" "),a("Tag",{attrs:{TagsArr:t.characterTags,model:t.CharaValue,inputShowCondition:t.Chara,updateStatus:t.updateStatus,serviceTypeId:t.AuntDetail.service_type_id,type:"性格"}})],1),t._v(" "),a("div",[a("span",[t._v("证书")]),t._v(" "),a("div",{staticClass:"certificateDiv"},[a("span",[a("Tag",{attrs:{TagsArr:t.certificateTags,model:t.CertificateValue,inputShowCondition:t.CertificateVisible,updateStatus:t.updateStatus,serviceTypeId:t.AuntDetail.service_type_id,type:"证书"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("upload-images",{attrs:{use:"cert",updateStatus:t.updateStatus,fileList:t.certificateFileList,isShowFileList:!0},on:{uploadSucc:t.uploadSucc,removeFile:t.removeFile}})],1)])]),t._v(" "),a("div",[a("span",[t._v("工作风采")]),t._v(" "),a("div",{staticStyle:{"border-bottom":"none"}},[a("upload-images",{attrs:{use:"work",updateStatus:t.updateStatus,fileList:t.workPhotosFileList,isShowFileList:!1},on:{uploadSucc:t.uploadSucc,removeFile:t.removeFile}})],1)]),t._v(" "),a("div",[a("span",{staticClass:"idcard-label"},[t._v("\n          身份证信息\n        ")]),t._v(" "),a("div",{attrs:{id:"id-card-content"}},[a("div",{staticClass:"id-card-content-item"},[a("el-image",{staticClass:"id-card-image",attrs:{src:t.AuntDetail.id_hold,fit:t.fit}})],1),t._v(" "),a("div",{staticClass:"id-card-content-item"},[a("el-image",{staticClass:"id-card-image",attrs:{src:t.AuntDetail.id_back,fit:t.fit}})],1)])])])]),t._v(" "),a("RecordList",{attrs:{id:t.id}})],1)},staticRenderFns:[]};var D=a("VU/8")(A,k,!1,function(t){a("xv4Z"),a("7CyV")},"data-v-70b29492",null);e.default=D.exports},oqa7:function(t,e){},qyJz:function(t,e,a){"use strict";var i=a("+ZMJ"),s=a("kM2E"),n=a("sB3e"),l=a("msXi"),o=a("Mhyx"),r=a("QRG4"),c=a("fBQ2"),u=a("3fs2");s(s.S+s.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,s,d,p=n(t),h="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,_=void 0!==f,m=0,b=u(p);if(_&&(f=i(f,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&o(b))for(a=new h(e=r(p.length));e>m;m++)c(a,m,_?f(p[m],m):p[m]);else for(d=b.call(p),a=new h;!(s=d.next()).done;m++)c(a,m,_?l(d,f,[s.value,m],!0):s.value);return a.length=m,a}})},rvDX:function(t,e){},tQu9:function(t,e){},tQwV:function(t,e){},xv4Z:function(t,e){}});
//# sourceMappingURL=1.49a906b95537bcfe9295.js.map