{"version":3,"sources":["webpack:///src/views/settingSystem/system/AccountManagement.vue","webpack:///./src/views/settingSystem/system/AccountManagement.vue?43de","webpack:///./src/views/settingSystem/system/AccountManagement.vue"],"names":["AccountManagement","data","total","accountData","perPage","page","roleHash","admin","company_super","company_normal","company_id","created","this","$store","dispatch","Object","utils","obtainAccountDataRequest","filters","formatDate","value","date","Date","y","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","methods","addAccount","$router","push","_this","str","SystemService","then","res","items","pageChange","deleteAccountClick","obj","_this2","params","id","$message","type","message","accountStatusClick","_this3","user_status","system_AccountManagement","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-top","color","background","display","padding","margin-bottom","float","_v","_s","attrs","on","click","width","border","align","label","scopedSlots","_u","key","fn","scope","row","company_object","title","prop","role_object","role_name","_f","last_login_time","create_time","size","$event","staticClass","layout","page-size","current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.2b9ee71a325e79b13130.js","sourcesContent":["<template>\n  <div>\n    <div style=\"margin-top:24px\">\n      <label style=\"color:white; background:#75ace6; display: inline-block; margin-top:12px; padding:3px; margin-bottom:12px; float:left\">数据统计：共{{total}}条</label>\n      <el-button type=\"primary\" style=\"float:right\" v-on:click=\"addAccount\">新增管理员</el-button>\n    </div>\n    <el-table :data=\"accountData\" border style=\"width: 100%; margin-bottom:12px;\">\n    <el-table-column align=\"center\" label=\"公司\">\n      <template slot-scope=\"scope\">\n        <label align=\"center\">{{(scope.row.company_object === null) ? '' : scope.row.company_object.title}}</label>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"user_name\" align=\"center\" label=\"登录账号\"> </el-table-column>\n    <el-table-column  label=\"角色\" align=\"center\">\n      <template slot-scope=\"scope\">\n        <label align=\"center\">{{(scope.row.role_object === null) ? '' : roleHash[scope.row.role_object.role_name]}}</label>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" prop=\"city_info.name\" label=\"城市\"> </el-table-column>\n    <el-table-column align=\"center\" label=\"上次登录时间\">\n      <template slot-scope=\"scope\">\n        <label align=\"center\">{{scope.row.last_login_time | formatDate}}</label>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"创建时间\">\n      <template slot-scope=\"scope\">\n        <label align=\"center\">{{(scope.row.company_object === null) ? '' : scope.row.company_object.create_time}}</label>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"账号状态\">\n      <template slot-scope=\"scope\">\n        <label align=\"center\">{{(scope.row.user_status === true) ? '启用中' : '禁用中'}}</label>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" align=\"center\">\n      <template slot-scope=\"scope\">\n        <el-button @click=\"accountStatusClick(scope.row)\" type=\"text\" size=\"small\" v-if=\"scope.row.user_status === true\">禁用</el-button>\n        <div v-else>\n          <el-button @click=\"accountStatusClick(scope.row)\" type=\"text\" size=\"small\">启用</el-button>\n          <el-button @click=\"deleteAccountClick(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\n        </div>\n      </template>\n    </el-table-column>\n  </el-table>\n  <div class=\"pagination_credit\">\n    <el-pagination background layout=\"prev, pager, next\" :total=\"total\" @current-change=\"pageChange\" :page-size=\"perPage\" :current-page=\"page\"></el-pagination>\n  </div>\n  </div>\n</template>\n\n<script>\nimport {obtainAccountData, deleteAccount, accountStatus} from '../../../service/SystemService.js'\nimport { getLoginInfo } from '../../../assets/common/utils.js'\nexport default {\n  data () {\n    return {\n      total: 1,\n      accountData: [],\n      perPage: 10,\n      page: 1,\n      roleHash: {admin: '超级管理员', company_super: '公司超级管理员', company_normal: '公司普通管理员'},\n      company_id: 0\n    }\n  },\n  created () {\n    // 面包屑\n    this.$store.dispatch('commitChangeTopTitles', ['系统设置', '管理员管理'])\n    this.company_id = getLoginInfo('company_id')\n    this.obtainAccountDataRequest()\n  },\n  filters: {\n    formatDate: function (value) {\n      if (value === '0') {\n        return 0\n      }\n      let date = new Date(value * 1000)\n      let y = date.getFullYear()\n      let MM = date.getMonth() + 1\n      MM = MM < 10 ? ('0' + MM) : MM\n      let d = date.getDate()\n      d = d < 10 ? ('0' + d) : d\n      let h = date.getHours()\n      h = h < 10 ? ('0' + h) : h\n      let m = date.getMinutes()\n      m = m < 10 ? ('0' + m) : m\n      let s = date.getSeconds()\n      s = s < 10 ? ('0' + s) : s\n      return y + '-' + MM + '-' + d + ' ' + h + ':' + m + ':' + s\n    }\n  },\n  methods: {\n    addAccount () {\n      this.$router.push('/addAccount')\n    },\n    obtainAccountDataRequest () {\n      var str = '?page=' + this.page + '&&per_page=' + this.perPage + '&&company_id=' + this.company_id\n      obtainAccountData(str).then(res => {\n        this.accountData = res.data.items\n        this.total = res.data.total\n      })\n    },\n    pageChange (page) {\n      this.page = page\n      this.obtainAccountDataRequest()\n    },\n    deleteAccountClick (obj) {\n      let params = {\n        id: obj.id\n      }\n      deleteAccount(params).then(res => {\n        this.$message({\n          type: 'success',\n          message: '删除成功'\n        })\n        this.pageChange(this.page)\n      })\n    },\n    accountStatusClick (obj) {\n      let params = {\n        id: obj.id,\n        user_status: obj.user_status === true ? 0 : 1\n      }\n      accountStatus(params).then(res => {\n        if (obj.user_status === true) {\n          this.$message({\n            type: 'success',\n            message: '禁用成功'\n          })\n        } else {\n          this.$message({\n            type: 'success',\n            message: '启用成功'\n          })\n        }\n        this.pageChange(this.page)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-table >>> th {\n  background-color: #e3eefa;\n  text-align: center;\n}\n.el-table >>> th  .cell {\n  border-left: #9FAFCC solid 1px;\n  font-family: \"苹方-简 常规体\", \"苹方-简 常规体\", \"苹方-简 常规体\";\n  color: #000000;\n  font-size: 16px;\n  font-weight: bold\n}\n.el-table >>> th:first-child .cell {\n  border-left: transparent solid 1px;\n  font-family: \"苹方-简 常规体\", \"苹方-简 常规体\", \"苹方-简 常规体\";\n  font-weight: bold;\n  color: #000000;\n}\n.el-tabs--card >>> .el-tabs__header .el-tabs__item.is-active {\n  border-bottom: #75ace6 5px solid;\n  color: #000000;\n  font-weight: bolder;\n}\n.pagination_credit {\n  margin-top: 20px;\n  text-align: center\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/settingSystem/system/AccountManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-top\":\"24px\"}},[_c('label',{staticStyle:{\"color\":\"white\",\"background\":\"#75ace6\",\"display\":\"inline-block\",\"margin-top\":\"12px\",\"padding\":\"3px\",\"margin-bottom\":\"12px\",\"float\":\"left\"}},[_vm._v(\"数据统计：共\"+_vm._s(_vm.total)+\"条\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addAccount}},[_vm._v(\"新增管理员\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"12px\"},attrs:{\"data\":_vm.accountData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"公司\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s((scope.row.company_object === null) ? '' : scope.row.company_object.title))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"align\":\"center\",\"label\":\"登录账号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s((scope.row.role_object === null) ? '' : _vm.roleHash[scope.row.role_object.role_name]))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"city_info.name\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"上次登录时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.last_login_time)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s((scope.row.company_object === null) ? '' : scope.row.company_object.create_time))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"账号状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('label',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s((scope.row.user_status === true) ? '启用中' : '禁用中'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.user_status === true)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.accountStatusClick(scope.row)}}},[_vm._v(\"禁用\")]):_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.accountStatusClick(scope.row)}}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteAccountClick(scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination_credit\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.perPage,\"current-page\":_vm.page},on:{\"current-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40f468bb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/settingSystem/system/AccountManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40f468bb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AccountManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccountManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccountManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40f468bb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AccountManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40f468bb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/settingSystem/system/AccountManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}